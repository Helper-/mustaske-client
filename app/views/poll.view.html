<div layout="column" layout-padding="5" layout-fill flex>
  <div layout="row">
    <span class="content-page-title">Poll</span>
    <span class="flex"></span>
    <ma-timer ng-if="!ctrl.isRoomOwner" ng-hide="ctrl.isActivePoll" class="poll-timer" x-timer="ctrl.timer"></ma-timer>
  </div>

  <div layout-padding="40" layout="column" layout-fill flex>
    <div ng-if="!ctrl.isRoomOwner" class="btn-no-border text-center"
         ng-click="!ctrl.isRoomOwner && ctrl.restartVote()"
         layout="column" layout-fill flex
         layout-align="center center">
      <div>
        <div ng-if="ctrl.poll.isPollStarted">
          <h1 class="md-display-5 text-light-blue-accent">{{ctrl.answers.current}}</h1>
          <p class="poll-text">tap anywhere to re-vote</p>
        </div>
        <div ng-if="!ctrl.poll.isPollStarted">
          <div flex layout="column" layout-align="end" ng-hide="ctrl.isActivePoll">
            <canvas height="300" id="bar2" class="chart chart-bar"
                  chart-options="ctrl.chart.options" chart-data="ctrl.chart.data" chart-labels="ctrl.chart.labels" chart-colours="ctrl.chart.colours">
            </canvas>
          </div>
          <p class="poll-text">polls are currently closed</p>
        </div>
      </div>
    </div>
    <!--Prof Clicker-->
    <div ng-if="ctrl.isRoomOwner">
      <div layout="column" class="m-t-30">
        <div ng-hide="ctrl.poll.isPollStarted" ng-click="ctrl.startPoll()" class="btn-no-outline medium-icon-button m-b-15">
          <md-icon md-font-icon="fa fa-play" class="p-l-5"><span layout-padding="5px">Start</span></md-icon>
        </div>
        <div ng-show="ctrl.poll.isPollStarted" class="m-b-15"><ma-timer class="poll-timer text-right" x-timer="ctrl.timer"></ma-timer></div>
        <div ng-click="ctrl.stopPoll()" class="btn-no-outline medium-icon-button">
          <md-icon md-font-icon="fa fa-stop"><span layout-padding="5px">Stop</span></md-icon>
        </div>
      </div>
      <div class="sub-header text-lighter-gray m-t-15">Poll Results</div>
      <div flex layout="column" layout-align="end">
        <canvas height="300" id="bar" class="chart chart-bar"
                chart-options="ctrl.chart.options" chart-data="ctrl.chart.data" chart-labels="ctrl.chart.labels" chart-colours="ctrl.chart.colours">
        </canvas>
      </div>
    </div>
  </div>


</div>

